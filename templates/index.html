<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YouTube Stats Dashboard</title>

    <!-- CSS -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles.css') }}"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <body>
    <header>
      <h1>ğŸ“Š YouTube Channel Statistics Dashboard</h1>
      <p class="subtitle">Theo dÃµi lÆ°á»£t xem vÃ  ngÆ°á»i Ä‘Äƒng kÃ½ theo thá»i gian thá»±c</p>
    </header>

    <main class="container">
      <!-- ThÃ´ng tin tá»•ng quan -->
      <section class="summary">

        <div class="stat-card">
          <h3>Tá»•ng sá»‘ view</h3>
          <p id="totalViews">--</p>
        </div>

        <div class="stat-card">
          <h3>Tá»•ng sá»‘ subscribe</h3>
          <p id="totalSubs">--</p>
        </div>

        <div class="stat-card">
          <h3>Tá»•ng sá»‘ channel</h3>
          <p id="totalChannels">--</p>
        </div>
      </section>

      <!-- Biá»ƒu Ä‘á»“ -->
      <section class="charts-wrapper">
        <div class="charts">
        <div class="chart-card">
          <h2>ğŸ“ˆ Biá»ƒu Ä‘á»“ lÆ°á»£t xem</h2>
          <canvas id="viewsChart"></canvas>
        </div>

        <div class="chart-card">
          <h2>ğŸ‘¥ Biá»ƒu Ä‘á»“ ngÆ°á»i Ä‘Äƒng kÃ½</h2>
          <canvas id="subsChart"></canvas>
        </div>

        <div class="toggle-button-container">
        <button id="toggleRankBtn" class="btn btn-secondary">Xem kÃªnh tháº¥p nháº¥t</button>
        </div>
        </div>
      </section>

      <!-- Báº£ng Top List -->
      <section class="toplist-section">
        <h2>ğŸ† Danh sÃ¡ch cÃ¡c kÃªnh Ä‘Æ°á»£c gÃ¡n nhÃ£n</h2>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>TÃªn kÃªnh</th>
                <th>LÆ°á»£t xem</th>
                <th>ÄÄƒng kÃ½</th>
                <th>Final Label</th>
              </tr>
            </thead>
            <tbody>
              {% for row in data %}
              <tr>
                <td>{{ row.name }}</td>
                <td>{{ "{:,}".format(row.views) }}</td>
                <td>{{ "{:,}".format(row.subscribers) }}</td>
                <td class="{{ row.FinalLabel }}">{{ row.FinalLabel }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </section>

    </main>

    <footer>
      <h3>Copyright Â©DA_HK251_2025</h3>
    </footer>

    <!-- JS -->
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
  </body>
</html>
